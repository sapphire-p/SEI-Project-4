(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{67:function(e,t,a){},68:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(27),s=a.n(c),r=(a(67),a(68),a(20)),i=a(12),l=function(){return window.localStorage.getItem("token")},o=function(){return window.localStorage.getItem("user_id")},j=function(){var e=l();if(e){var t=e.split(".");if(!(t.length<3)){var a=t[1];return JSON.parse(atob(a))}}},d=a(33),b=a(101),m=a(0),h=function(){var e=Object(i.f)(),t=Object(i.g)();Object(n.useEffect)((function(){}),[t.pathname]);return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(d.a,{style:{backgroundColor:"#151515"},expand:"lg",variant:"dark",children:[Object(m.jsx)(d.a.Brand,{href:"/",className:"mr-5",style:{fontSize:"2rem"},children:Object(m.jsxs)("div",{className:"d-flex flex-row align-items-center",children:[Object(m.jsx)("img",{style:{margin:"0 10px"},width:"60",src:"https://res.cloudinary.com/dfgnpqkiv/image/upload/v1638954811/The-Potting-Shed/The-Potting-Shed_logo_gh5mqn.png"}),Object(m.jsx)("h1",{style:{margin:"0 auto",fontSize:"2rem"},children:"The Potting Shed"})]})}),Object(m.jsx)(d.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(m.jsx)(d.a.Collapse,{id:"responsive-navbar-nav",children:function(){var e=j();return!!e&&Math.round(Date.now()/1e3)<e.exp}()?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b.a,{className:"mr-auto",children:Object(m.jsxs)(d.a.Brand,{style:{fontSize:"1rem"},children:["Welcome back, ",window.localStorage.getItem("username"),"!"]})}),Object(m.jsxs)(b.a,{className:"ml-auto",children:[Object(m.jsx)(b.a.Link,{href:"/community",children:"Community"}),Object(m.jsx)(b.a.Link,{href:"/profile/".concat(o()),children:"MyProfile"}),Object(m.jsx)(b.a.Link,{onClick:function(){window.localStorage.removeItem("token"),e.push("/")},children:"Logout"})]})]}):Object(m.jsxs)(b.a,{className:"ml-auto",children:[Object(m.jsx)(b.a.Link,{href:"/register",children:"Register"}),Object(m.jsx)(b.a.Link,{href:"/login",children:"Login"})]})})]})})},x=a(2),u=a(9),O=a.n(u),p=a(13),f=a(7),g=a(99),v=a(100),w=a(62),y=a(14),N=a.n(y),S=a(17),_=function(e){return Object(m.jsxs)(S.a,{children:[Object(m.jsx)(r.b,{to:"/plants/".concat(e.id),children:Object(m.jsx)(S.a.Img,{variant:"top",src:e.image,alt:e.name})}),Object(m.jsxs)(S.a.Body,{children:[Object(m.jsx)(S.a.Title,{className:"text-center",style:{fontSize:"1.1rem"},children:e.name}),Object(m.jsxs)(S.a.Text,{className:"text-center",children:["\xa3",e.price_in_GBP]})]})]})},k=function(){var e=Object(n.useState)(null),t=Object(f.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),r=Object(f.a)(s,2),i=r[0],l=r[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(p.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("/api/plants/");case 3:t=e.sent,a=t.data,c(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),l(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(m.jsx)(m.Fragment,{children:a?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{id:"hero",className:"jumbotron jumbotron-fluid",children:Object(m.jsxs)(g.a,{className:"text-center",children:[Object(m.jsx)("h1",{className:"display-5 font-weight-bold",children:"Welcome to The Potting Shed"}),Object(m.jsxs)("p",{className:"lead mt-4",children:["Home of houseplants and pot plant people! ",Object(m.jsx)("br",{}),"Shop for plants and join our green-fingered community"]})]})}),Object(m.jsx)(g.a,{className:"my-5",fluid:!0,children:Object(m.jsx)(v.a,{lg:"4",md:"3",sm:"2",style:{marginLeft:"10vw",marginRight:"10vw"},children:a.map((function(e){return Object(m.jsx)("div",{style:{padding:"1rem"},children:Object(m.jsx)(_,Object(x.a)({},e))},e.id)}))})})]}):Object(m.jsx)(m.Fragment,{children:i?Object(m.jsx)(g.a,{className:"my-5",children:Object(m.jsx)(v.a,{children:Object(m.jsx)(w.a,{children:Object(m.jsxs)("h1",{style:{fontSize:"1.6rem"},className:"text-center mb-4 mt-2",children:["Oops! Something went wrong... ",Object(m.jsx)("br",{})," Please refresh the page or try another link"]})})})}):Object(m.jsx)(g.a,{className:"my-4",children:Object(m.jsx)(v.a,{children:Object(m.jsx)(w.a,{children:Object(m.jsx)("h1",{style:{fontSize:"1.6rem"},className:"text-center mb-4 mt-2",children:"Loading..."})})})})})})},C=a(8),F=a(28),P=a(6),I=function(e){var t=e.handleImageUrl,a=e.value,n=function(){var e=Object(p.a)(O.a.mark((function e(a){var n,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",a.target.files[0]),n.append("upload_preset","s5w7j91t"),e.next=5,N.a.post("https://api.cloudinary.com/v1_1/dfgnpqkiv/image/upload",n);case 5:c=e.sent,t(c.data.url);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:a?Object(m.jsx)("div",{children:Object(m.jsx)("img",{src:a,alt:"profile image"})}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("input",{type:"file",onChange:n,className:"form-control-file"})})})},L=function(){var e=Object(i.f)(),t=Object(n.useState)({username:"",email:"",password:"",password_confirmation:"",profile_image:"",three_word_bio:"",about_me:""}),a=Object(f.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)({username:"",email:"",password:"",password_confirmation:"",profile_image:"",three_word_bio:"",about_me:""}),l=Object(f.a)(r,2),o=l[0],j=l[1],d=function(e){var t=Object(x.a)(Object(x.a)({},c),{},Object(C.a)({},e.target.name,e.target.value));s(t)},b=function(){var t=Object(p.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),""===(n=c).profile_image&&delete n.profile_image,""===n.three_word_bio&&delete n.three_word_bio,""===n.about_me&&delete n.about_me,t.prev=5,t.next=8,N.a.post("/api/users/register/",n);case 8:e.push("/login"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(5),j(t.t0.response.data);case 14:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{id:"hero-auth",className:"jumbotron jumbotron-fluid",children:Object(m.jsxs)(g.a,{className:"text-center",children:[Object(m.jsx)("h1",{className:"display-5 font-weight-bold",children:"Register"}),Object(m.jsxs)("p",{className:"lead mt-4",children:["Sign up to create your own profile, save plants and leave reviews",Object(m.jsx)("br",{}),"Members also enjoy access to our growing community"]})]})}),Object(m.jsx)(g.a,{style:{width:"55%",minWidth:"490px",maxWidth:"650px"},children:Object(m.jsx)("div",{className:"m-5",children:Object(m.jsxs)(P.a,{onSubmit:b,children:[Object(m.jsxs)(P.a.Group,{className:"mb-3",controlId:"formUsername",children:[Object(m.jsx)(P.a.Label,{className:"font-weight-bold",children:"Username"}),Object(m.jsx)(P.a.Text,{className:"text-muted pb-2",children:"Once registered, you will need your username and password to login"}),Object(m.jsx)(P.a.Control,{type:"text",placeholder:"Enter username",name:"username",value:c.username,onChange:d}),Object(m.jsx)(P.a.Text,{className:"text-danger",children:o.username?o.username[0]:""})]}),Object(m.jsxs)(P.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(m.jsx)(P.a.Label,{className:"font-weight-bold",children:"Email address"}),Object(m.jsx)(P.a.Control,{type:"email",placeholder:"Enter email",name:"email",value:c.email,onChange:d}),Object(m.jsx)(P.a.Text,{className:"text-danger",children:o.email?o.email[0]:""})]}),Object(m.jsxs)(P.a.Group,{className:"mb-3",controlId:"formPassword",children:[Object(m.jsx)(P.a.Label,{className:"font-weight-bold",children:"Password"}),Object(m.jsx)(P.a.Control,{type:"password",placeholder:"Password",name:"password",value:c.password,onChange:d}),Object(m.jsx)(P.a.Text,{className:"text-danger",children:o.password?o.password[0]:""})]}),Object(m.jsxs)(P.a.Group,{className:"mb-3",controlId:"formPasswordConfirmation",children:[Object(m.jsx)(P.a.Label,{className:"font-weight-bold",children:"Password Confirmation"}),Object(m.jsx)(P.a.Control,{type:"password",placeholder:"Password confirmation",name:"password_confirmation",value:c.password_confirmation,onChange:d}),Object(m.jsx)(P.a.Text,{className:"text-danger",children:o.password_confirmation?o.password_confirmation[0]:""})]}),Object(m.jsxs)(P.a.Group,{className:"mb-3",controlId:"formThreeWordBio",children:[Object(m.jsx)(P.a.Label,{className:"font-weight-bold",children:"Three Word Bio"}),Object(m.jsx)(P.a.Control,{type:"text",placeholder:"Describe yourself in just three words!",name:"three_word_bio",value:c.three_word_bio,onChange:d}),Object(m.jsx)(P.a.Text,{className:"text-danger",children:o.three_word_bio?o.three_word_bio[0]:""})]}),Object(m.jsxs)(P.a.Group,{className:"mb-3",controlId:"formAboutMe",children:[Object(m.jsx)(P.a.Label,{className:"font-weight-bold",children:"About Me"}),Object(m.jsx)(P.a.Text,{className:"text-muted pb-2",children:"We'd love to hear about your plant collection, hobbies, favourite plant..."}),Object(m.jsx)("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"4",type:"text",placeholder:"Tell us about yourself in a couple of sentences",name:"about_me",value:c.about_me,onChange:d}),Object(m.jsx)(P.a.Text,{className:"text-danger",children:o.about_me?o.about_me[0]:""})]}),Object(m.jsxs)(P.a.Group,{controlId:"formFile",className:"mb-3",children:[Object(m.jsx)(P.a.Label,{className:"font-weight-bold",children:"Upload a profile image"}),Object(m.jsxs)(P.a.Text,{className:"text-muted pb-3",children:["Our uploader recognises faces, so a headshot works best. ",Object(m.jsx)("br",{}),"If you don't upload a profile image, we'll give you a default one :)"]}),Object(m.jsx)(I,{value:c.profile_image,name:"profile_image",handleImageUrl:function(e){s(Object(x.a)(Object(x.a)({},c),{},{profile_image:e}))}}),Object(m.jsx)(P.a.Text,{className:"text-danger",children:o.profile_image?o.profile_image[0]:""})]}),Object(m.jsx)("div",{className:"d-flex justify-content-center",children:Object(m.jsx)(F.a,{variant:"primary",type:"submit",className:"bg-success mt-1 mb-3",style:{width:"100%",borderStyle:"none"},children:"Submit"})})]})})})]})},T=function(){var e=Object(i.f)(),t=Object(n.useState)({username:"",password:""}),a=Object(f.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(!1),l=Object(f.a)(r,2),o=l[0],j=l[1],d=function(e){var t=Object(x.a)(Object(x.a)({},c),{},Object(C.a)({},e.target.name,e.target.value));s(t)},b=function(){var t=Object(p.a)(O.a.mark((function t(a){var n,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,N.a.post("/api/users/login/",c);case 4:n=t.sent,s=n.data,l=s.token,window.localStorage.setItem("token",l),i=c.username,window.localStorage.setItem("username",i),r=s.user_id,window.localStorage.setItem("user_id",r),e.push("/"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),j(!0);case 15:case"end":return t.stop()}var r,i,l}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{id:"hero-auth",className:"jumbotron jumbotron-fluid",children:Object(m.jsxs)(g.a,{className:"text-center",children:[Object(m.jsx)("h1",{className:"display-5 font-weight-bold",children:"Login"}),Object(m.jsxs)("p",{className:"lead mt-4",children:["Welcome! Enter your details below to log in ",Object(m.jsx)("br",{}),"Not signed up yet? Click 'Register' above to create your profile"]})]})}),Object(m.jsx)(g.a,{style:{width:"50%",minWidth:"490px",maxWidth:"650px"},children:Object(m.jsx)("div",{className:"m-5",children:Object(m.jsxs)(P.a,{onSubmit:b,children:[Object(m.jsxs)(P.a.Group,{className:"mb-3",controlId:"formUsername",children:[Object(m.jsx)(P.a.Label,{className:"font-weight-bold",children:"Username"}),Object(m.jsx)(P.a.Control,{type:"text",placeholder:"Enter username",name:"username",value:c.username,onChange:d})]}),Object(m.jsxs)(P.a.Group,{className:"mb-3",controlId:"formPassword",children:[Object(m.jsx)(P.a.Label,{className:"font-weight-bold",children:"Password"}),Object(m.jsx)(P.a.Control,{type:"password",placeholder:"Password",name:"password",value:c.password,onChange:d}),o&&Object(m.jsx)(P.a.Text,{className:"text-danger",children:"Invalid login credentials"})]}),Object(m.jsx)("div",{className:"d-flex justify-content-center",children:Object(m.jsx)(F.a,{variant:"primary",type:"submit",className:"bg-success mt-1 mb-3",style:{width:"100%",borderStyle:"none"},children:"Login"})})]})})})]})},B=a(41),A=function(){var e=Object(n.useState)(null),t=Object(f.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(null),r=Object(f.a)(s,2),d=r[0],b=r[1],h=Object(n.useState)(null),u=Object(f.a)(h,2),y=u[0],S=u[1],_=Object(n.useState)(null),k=Object(f.a)(_,2),I=k[0],L=k[1],T=Object(i.h)().id,A=Object(n.useState)(!1),z=Object(f.a)(A,2),M=z[0],D=z[1],E=Object(n.useState)(!1),G=Object(f.a)(E,2),W=G[0],R=G[1],H=Object(n.useState)(!1),U=Object(f.a)(H,2),q=U[0],J=U[1],Y=Object(n.useState)(!1),K=Object(f.a)(Y,2),Q=K[0],V=K[1],X=Object(n.useState)(!1),Z=Object(f.a)(X,2),$=Z[0],ee=Z[1],te=Object(n.useState)(0),ae=Object(f.a)(te,2),ne=ae[0],ce=ae[1],se=function(){var e=j();return!!e&&Math.round(Date.now()/1e3)<e.exp},re=Object(n.useState)({rating:"",comment:"",plant:T}),ie=Object(f.a)(re,2),le=ie[0],oe=ie[1],je=Object(n.useState)({rating:"",comment:""}),de=Object(f.a)(je,2),be=de[0],me=de[1];Object(n.useEffect)((function(){var e=function(){var e=Object(p.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("/api/plants/".concat(T,"/"));case 3:t=e.sent,a=t.data,c(a),b(a.review_set),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),D(!0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[T,$,ne]),Object(n.useEffect)((function(){S(o()),L(l())}),[]);var he=function(){var e=Object(p.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.put("/api/users/".concat(y,"/"),{plant_id:T},{headers:{Authorization:"Bearer ".concat(I)}});case 3:V(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),R(!0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),xe=function(e){var t=Object(x.a)(Object(x.a)({},le),{},Object(C.a)({},e.target.name,e.target.value));oe(t)},ue=function(){var e=Object(p.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,N.a.post("/api/reviews/",le,{headers:{Authorization:"Bearer ".concat(I)}});case 4:a=e.sent,n=a.data,ee(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),me(e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.delete("/api/reviews/".concat(t,"/"),{headers:{Authorization:"Bearer ".concat(I)}});case 3:ce(ne+1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),J(!0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:a&&d?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(g.a,{className:"my-4",children:Object(m.jsxs)(v.a,{children:[Object(m.jsx)(w.a,{md:5,className:"d-flex align-items-center p-4",children:Object(m.jsx)(B.a,{src:a.image,alt:a.name,rounded:!0,fluid:!0})}),Object(m.jsxs)(w.a,{md:7,style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(m.jsx)("h2",{className:"text-center mt-3 mb-4",children:a.name}),Object(m.jsxs)("div",{className:"px-4",children:[Object(m.jsx)("p",{children:a.description}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"font-weight-bold",children:"Height (cm):"})," ",a.height_in_cm]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"font-weight-bold",children:"Light level:"})," ",a.light_level]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"font-weight-bold",children:"Watering:"})," ",a.watering_frequency]}),Object(m.jsxs)("p",{children:["\xa3",a.price_in_GBP]}),Object(m.jsx)("div",{className:"d-flex justify-content-center",children:se()?Object(m.jsx)(m.Fragment,{children:Q||W?Object(m.jsx)(m.Fragment,{children:W?Object(m.jsx)("p",{className:"font-weight-bold text-danger",children:"Oops! Something went wrong."}):Object(m.jsx)("p",{className:"font-weight-bold text-success",children:"Plant added to Must-Haves list!"})}):Object(m.jsx)(F.a,{onClick:he,variant:"primary",type:"button",className:"bg-success mt-1 mb-3",style:{width:"100%",borderStyle:"none"},children:"Add to Must-Have Plants"})}):Object(m.jsx)(m.Fragment,{children:Q?Object(m.jsxs)("div",{className:"d-flex flex-column align-items-center font-weight-bold text-success",children:[Object(m.jsx)("p",{style:{margin:0,textAlign:"center"},children:"You must be logged in to access this feature."}),Object(m.jsx)("p",{style:{margin:0,textAlign:"center"},children:"Please Login or click 'Register' to create an account"})]}):Object(m.jsx)(F.a,{onClick:function(){V(!0)},variant:"primary",type:"button",className:"bg-success mt-1 mb-3",style:{width:"100%",borderStyle:"none"},children:"Add to Must-Have Plants"})})})]})]})]})}),Object(m.jsxs)(g.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(m.jsx)("h2",{className:"text-center mb-4",children:"Reviews"}),d.length>0?Object(m.jsx)(m.Fragment,{children:d.map((function(e){return Object(m.jsxs)("div",{style:{margin:"0 5vw",width:"60%"},children:[Object(m.jsxs)(v.a,{children:[Object(m.jsx)(w.a,{md:7,children:Object(m.jsx)("p",{className:"font-weight-bold",children:e.review_owner.username})}),Object(m.jsx)(w.a,{md:4,children:Object(m.jsxs)("p",{className:"font-weight-bold",children:["Rating: ",e.rating,"/5"]})})]}),Object(m.jsx)(v.a,{children:Object(m.jsx)(w.a,{children:Object(m.jsxs)("div",{children:[e.comment,Object(m.jsx)("br",{}),Object(m.jsx)(m.Fragment,{children:I&&parseInt(y)===e.review_owner.id?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{id:"delete-review-button",onClick:function(){return Oe(e.id)},style:{marginBottom:"1.8rem"},children:"Delete review"}),q&&Object(m.jsx)("div",{className:"text-danger",children:"Oops! Something went wrong"})]}):Object(m.jsx)("div",{style:{marginBottom:"1.8rem"}})})]})})})]},e.id)}))}):Object(m.jsx)(w.a,{className:"p-4",children:Object(m.jsx)("div",{className:"text-center",children:"There are no reviews available for this plant."})})]}),Object(m.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"50px"},children:se()?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h3",{className:"text-center mb-4 mt-2",children:"Leave a review"}),Object(m.jsx)("div",{style:{width:"50%"},children:Object(m.jsxs)(P.a,{onSubmit:ue,children:[Object(m.jsxs)(P.a.Group,{className:"mb-3",controlId:"formUsername",children:[Object(m.jsx)(P.a.Label,{className:"font-weight-bold",children:"Rating (out of 5)"}),Object(m.jsx)(P.a.Control,{style:{width:"70px"},type:"number",name:"rating",value:le.rating,onChange:xe}),Object(m.jsx)(P.a.Text,{className:"text-danger",children:be.rating?be.rating[0]:""})]}),Object(m.jsxs)(P.a.Group,{className:"mb-3",controlId:"formPassword",children:[Object(m.jsx)(P.a.Label,{className:"font-weight-bold",children:"Comment"}),Object(m.jsx)(P.a.Control,{type:"text",placeholder:"Write comment here",name:"comment",value:le.comment,onChange:xe}),Object(m.jsx)(P.a.Text,{className:"text-danger",children:be.comment?be.comment[0]:""})]}),Object(m.jsx)("div",{className:"d-flex justify-content-center",children:Object(m.jsx)(F.a,{variant:"primary",type:"submit",className:"bg-success mt-1 mb-3",style:{width:"100%",borderStyle:"none"},children:"Submit Review"})})]})})]}):Object(m.jsx)("div",{})})]}):Object(m.jsx)(m.Fragment,{children:M?Object(m.jsx)(g.a,{className:"my-5",children:Object(m.jsx)(v.a,{children:Object(m.jsx)(w.a,{children:Object(m.jsxs)("h1",{style:{fontSize:"1.6rem"},className:"text-center mb-4 mt-2",children:["Oops! Something went wrong... ",Object(m.jsx)("br",{})," Please refresh the page or try another link"]})})})}):Object(m.jsx)(g.a,{className:"my-4",children:Object(m.jsx)(v.a,{children:Object(m.jsx)(w.a,{children:Object(m.jsx)("h1",{style:{fontSize:"1.6rem"},className:"text-center mb-4 mt-2",children:"Loading..."})})})})})})},z=function(){var e=Object(i.h)().id,t=Object(i.f)(),a=Object(n.useState)(null),c=Object(f.a)(a,2),s=c[0],j=c[1],d=Object(n.useState)(null),b=Object(f.a)(d,2),h=b[0],u=b[1],y=Object(n.useState)(null),k=Object(f.a)(y,2),C=k[0],P=k[1],I=Object(n.useState)(null),L=Object(f.a)(I,2),T=L[0],A=L[1],z=Object(n.useState)(),M=Object(f.a)(z,2),D=M[0],E=M[1],G=Object(n.useState)(!1),W=Object(f.a)(G,2),R=W[0],H=W[1];Object(n.useEffect)((function(){var t=function(){var t=Object(p.a)(O.a.mark((function t(){var a,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.get("/api/users/".concat(e,"/"));case 3:a=t.sent,n=a.data,j(n),u(n.must_have_plants),A(o()),E(l()),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),H(!0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(n.useEffect)((function(){if(h){var e=0;h.map((function(t){e+=parseFloat(t.price_in_GBP)})),P(e.toFixed(2))}}),[h]);var U=function(){var a=Object(p.a)(O.a.mark((function a(){return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N.a.delete("/api/users/".concat(e,"/"),{headers:{Authorization:"Bearer ".concat(D)}});case 3:window.localStorage.removeItem("token"),t.push("/"),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(){return a.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:s&&h?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(g.a,{style:{width:"80%",minWidth:"400px"},className:"my-4",children:Object(m.jsxs)(v.a,{children:[Object(m.jsx)(w.a,{md:5,className:"d-flex justify-content-center py-4 px-3",children:Object(m.jsx)(B.a,{src:s.profile_image,alt:s.username,rounded:!0,fluid:!0})}),Object(m.jsxs)(w.a,{md:7,style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(m.jsx)("h1",{className:"text-center mt-3 mb-3",children:s.username}),Object(m.jsxs)("div",{className:"px-3",children:[Object(m.jsx)("h4",{className:"mb-4",style:{textAlign:"center"},children:s.three_word_bio}),Object(m.jsx)("p",{children:s.about_me})]})]})]})}),Object(m.jsxs)(g.a,{style:{width:"80%",minWidth:"400px",marginBottom:"50px"},children:[Object(m.jsx)("h2",{className:"text-center mb-3",children:"My Must-Have Plants"}),Object(m.jsx)("h5",{className:"mb-3",style:{textAlign:"center"},children:"The plants on this site that I'm loving right now..."}),T===e?Object(m.jsxs)(m.Fragment,{children:[h.length>0?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(g.a,{fluid:!0,children:Object(m.jsx)(v.a,{lg:"3",md:"3",sm:"1",style:{marginLeft:"5vw",marginRight:"5vw"},children:h.map((function(e){return Object(m.jsx)("div",{style:{padding:"1rem"},children:Object(m.jsx)(_,Object(x.a)({},e))},e.id)}))})}),Object(m.jsxs)("h5",{className:"mb-4",style:{textAlign:"center"},children:["Total cost: \xa3",C]})]}):Object(m.jsxs)("div",{className:"mb-3 d-flex flex-column align-items-center font-weight-bold text-success",children:[Object(m.jsx)("p",{style:{margin:0,textAlign:"center"},children:"Your basket is empty - no Must-Have Plants have been added :("}),Object(m.jsx)("p",{style:{margin:0,textAlign:"center"},children:"Click the 'Add to Must-Have Plants' button on a plant page to add it"})]}),"1"!==T?Object(m.jsx)("div",{style:{textAlign:"center",width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:Object(m.jsxs)(F.a,{onClick:U,variant:"primary",type:"submit",className:"bg-danger mt-1 my-3",style:{width:"50%",borderStyle:"none"},children:["Delete My Profile",Object(m.jsx)("br",{}),"Please note: this cannot be reversed"]})}):Object(m.jsx)("div",{})]}):Object(m.jsx)(m.Fragment,{children:h.length>0?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(g.a,{fluid:!0,children:Object(m.jsx)(v.a,{lg:"3",md:"3",sm:"1",style:{marginLeft:"5vw",marginRight:"5vw"},children:h.map((function(e){return Object(m.jsx)("div",{style:{padding:"1rem"},children:Object(m.jsxs)(S.a,{children:[Object(m.jsx)(r.b,{to:"/plants/".concat(e.id),children:Object(m.jsx)(S.a.Img,{variant:"top",src:e.image,alt:e.name})}),Object(m.jsx)(S.a.Body,{children:Object(m.jsx)(S.a.Title,{style:{margin:"0"},className:"text-center",children:e.name})})]})},e.id)}))})})}):Object(m.jsx)("div",{className:"d-flex flex-column align-items-center font-weight-bold text-success",children:Object(m.jsxs)("p",{style:{margin:0,textAlign:"center"},children:[s.username," has not added any Must-Have Plants"]})})})]})]}):Object(m.jsx)(m.Fragment,{children:R?Object(m.jsx)(g.a,{className:"my-5",children:Object(m.jsx)(v.a,{children:Object(m.jsx)(w.a,{children:Object(m.jsxs)("h1",{style:{fontSize:"1.6rem"},className:"text-center mb-4 mt-2",children:["Oops! Something went wrong... ",Object(m.jsx)("br",{})," Please refresh the page or try another link"]})})})}):Object(m.jsx)(g.a,{className:"my-4",children:Object(m.jsx)(v.a,{children:Object(m.jsx)(w.a,{children:Object(m.jsx)("h1",{style:{fontSize:"1.6rem"},className:"text-center mb-4 mt-2",children:"Loading..."})})})})})})},M=function(){var e=Object(n.useState)(null),t=Object(f.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),i=Object(f.a)(s,2),l=i[0],o=i[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(p.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("/api/users/");case 3:t=e.sent,a=t.data,c(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(m.jsx)(m.Fragment,{children:a?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{id:"hero",className:"jumbotron jumbotron-fluid",children:Object(m.jsxs)(g.a,{className:"text-center",children:[Object(m.jsx)("h1",{className:"display-5 font-weight-bold",children:"Community"}),Object(m.jsxs)("p",{className:"lead mt-4",children:["Meet like-minded members of The Potting Shed community. ",Object(m.jsx)("br",{}),"Browse profiles and get inspiration for your next pot plant purchase!"]})]})}),Object(m.jsx)(g.a,{className:"my-5",fluid:!0,children:Object(m.jsx)(v.a,{xl:"4",lg:"3",md:"3",sm:"2",style:{marginLeft:"15vw",marginRight:"15vw"},children:a.map((function(e){return Object(m.jsx)("div",{style:{padding:"1rem"},children:Object(m.jsxs)(S.a,{style:{borderStyle:"none"},children:[Object(m.jsx)(r.b,{to:"/profile/".concat(e.id),children:Object(m.jsx)(S.a.Img,{variant:"top",src:e.profile_image,alt:e.username})}),Object(m.jsxs)(S.a.Body,{children:[Object(m.jsx)(S.a.Title,{style:{fontSize:"1.13rem"},className:"text-center mb-1",children:e.username}),Object(m.jsx)(S.a.Text,{className:"text-center",children:e.three_word_bio})]})]})},e.id)}))})})]}):Object(m.jsx)(m.Fragment,{children:l?Object(m.jsx)(g.a,{className:"my-5",children:Object(m.jsx)(v.a,{children:Object(m.jsx)(w.a,{children:Object(m.jsxs)("h1",{style:{fontSize:"1.6rem"},className:"text-center mb-4 mt-2",children:["Oops! Something went wrong... ",Object(m.jsx)("br",{})," Please refresh the page or try another link"]})})})}):Object(m.jsx)(g.a,{className:"my-4",children:Object(m.jsx)(v.a,{children:Object(m.jsx)(w.a,{children:Object(m.jsx)("h1",{style:{fontSize:"1.6rem"},className:"text-center mb-4 mt-2",children:"Loading..."})})})})})})},D=function(){return Object(m.jsxs)(r.a,{children:[Object(m.jsx)(h,{}),Object(m.jsxs)(i.c,{children:[Object(m.jsx)(i.a,{exact:!0,path:"/",component:k}),Object(m.jsx)(i.a,{exact:!0,path:"/register",component:L}),Object(m.jsx)(i.a,{exact:!0,path:"/login",component:T}),Object(m.jsx)(i.a,{exact:!0,path:"/plants/:id",component:A}),Object(m.jsx)(i.a,{exact:!0,path:"/profile/:id",component:z}),Object(m.jsx)(i.a,{exact:!0,path:"/community",component:M})]})]})};a(96);s.a.render(Object(m.jsx)(D,{}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.1119f6a8.chunk.js.map